(function(e){"use strict";var a=function(b,d,c){return 1===arguments.length?a.get(b):a.set(b,d,c)};a._document=document;a._navigator=navigator;a.defaults={path:"/"};a.get=function(b){a._cachedDocumentCookie!==a._document.cookie&&a._renewCache();return a._cache[b]};a.set=function(b,d,c){c=a._getExtendedOptions(c);c.expires=a._getExpiresDate(d===e?-1:c.expires);a._document.cookie=a._generateCookieString(b,d,c);return a};a.expire=function(b,d){return a.set(b,e,d)};a._getExtendedOptions=function(b){return{path:b&&b.path||a.defaults.path,domain:b&&b.domain||a.defaults.domain,expires:b&&b.expires||a.defaults.expires,secure:b&&b.secure!==e?b.secure:a.defaults.secure}};a._isValidDate=function(b){return"[object Date]"===Object.prototype.toString.call(b)&&!isNaN(b.getTime())};a._getExpiresDate=function(b,d){d=d||new Date;switch(typeof b){case"number":b=new Date(d.getTime()+1E3*b);break;case"string":b=new Date(b)}if(b&&!a._isValidDate(b))throw Error("`expires` parameter cannot be converted to a valid Date instance");return b};a._generateCookieString=function(b,a,c){b=encodeURIComponent(b);a=(a+"").replace(/[^!#$&-+\--:<-\[\]-~]/g,encodeURIComponent);c=c||{};b=b+"="+a+(c.path?";path="+c.path:"");b+=c.domain?";domain="+c.domain:"";b+=c.expires?";expires="+c.expires.toUTCString():"";return b+=c.secure?";secure":""};a._getCookieObjectFromString=function(b){var d={};b=b?b.split("; "):[];for(var c=0;c<b.length;c++){var f=a._getKeyValuePairFromCookieString(b[c]);d[f.key]===e&&(d[f.key]=f.value)}return d};a._getKeyValuePairFromCookieString=function(b){var a=b.indexOf("="),a=0>a?b.length:a;return{key:decodeURIComponent(b.substr(0,a)),value:decodeURIComponent(b.substr(a+1))}};a._renewCache=function(){a._cache=a._getCookieObjectFromString(a._document.cookie);a._cachedDocumentCookie=a._document.cookie};a._areEnabled=function(){return a._navigator.cookieEnabled||"1"===a.set("cookies.js",1).get("cookies.js")};a.enabled=a._areEnabled();"function"===typeof define&&define.amd?define(function(){return a}):"undefined"!==typeof exports?("undefined"!==typeof module&&module.exports&&(exports=module.exports=a),exports.Cookies=a):window.Cookies=a})();Cookies.defaults={path:'/',expires:'01/01/2030'};window.difference=function(a1,a2){return $.grep(a1,function(x){return $.inArray(x,a2)<0})};var isMobile={Android:function(){return navigator.userAgent.match(/Android/i);},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i);},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i);},Opera:function(){return navigator.userAgent.match(/Opera Mini/i);},Windows:function(){return navigator.userAgent.match(/IEMobile/i);},any:function(){return(isMobile.Android()||isMobile.BlackBerry()||isMobile.iOS()||isMobile.Opera()||isMobile.Windows());}};var advertiser_list={'External':{'exposure_interval':300}};var time_before_next_shown_in_seconds=300;var interstital_json=Cookies('interstital');var interstital={};var time_now=Math.round(new Date().getTime()/ 1000);try{interstital_buffer=JSON.parse(interstital_json);if(interstital_buffer.last_shown){console.log(interstital_buffer.last_shown);interstital_buffer.last_shown=Math.min(interstital_buffer.last_shown,time_now);interstital={'visited':{}}
for(i=0;i<interstital_buffer.visited.length;++i){interstital.visited[interstital_buffer.visited[i]]=interstital_buffer.last_shown;}}else{interstital=interstital_buffer;}}catch(err){interstital={'visited':{}};}
var last_visited=0;var ready_advertisers=$.grep(Object.keys(advertiser_list),function(advertiser){if(interstital.visited[advertiser]){last_visited=interstital.visited[advertiser]>last_visited?interstital.visited[advertiser]:last_visited;if(advertiser_list[advertiser].exposure_interval>0){return(interstital.visited[advertiser]+ advertiser_list[advertiser].exposure_interval)<time_now;}else{return false;}}else{return true;}});if((!window.disable_interstitial)&&(time_now- last_visited>time_before_next_shown_in_seconds)&&(ready_advertisers.length>0)){var advertiser=ready_advertisers[Math.round(Math.random()*(ready_advertisers.length-1))];interstital.visited[advertiser]=time_now;Cookies.set('interstital',JSON.stringify(interstital));window.stop();if(!isMobile.any()){window.location.href='interstitial.html?v=1&advertiser='+ advertiser+'&return_url='+ encodeURIComponent(window.location.href);}else{window.location.href='interstitial-m.html?v=1&advertiser='+ advertiser+'&return_url='+ encodeURIComponent(window.location.href);}}